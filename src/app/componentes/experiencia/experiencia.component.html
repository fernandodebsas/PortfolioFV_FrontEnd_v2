<div class="edu main-container fv-component-container">

    <mat-toolbar-row>
      <div class="col-sm-6" style="text-align: left">
        <span>
          <h1><b>Proyectos</b></h1>
        </span>
      </div>
      <div class="col-sm-6" style="text-align: right; margin-bottom: 2%; padding-right: 1%;">
        <span><button type="button" class="btn btn-success" (click)="onOpenModal('add')">
            <a class="nav-link" style="color: #fff;"> Agregar Proyecto <span class="sr-only"> (current) </span></a>
          </button>
        </span>
      </div>
    </mat-toolbar-row>
  
    <div id="main-container">
  
      <!--repetición-->
  
      <div *ngFor="let experiencia of experiencia" class="row align-items-center">
        <div class="row">
          <div class="col-md-4 col-sm-3 col-xs-1">
          </div>
          <div class="col-md-4 col-sm-6 col-xs-10 fv-fila-item-experiencia" style="text-align: center;">
            <div class="col botones_edicion">
              <a (click)="onOpenModal('edit', experiencia)" class="btn btn-primary tooltips" data-placement="top"
                data-toggle="tooltip" data-original-title="Edit"><i class="fa fa-pencil"></i>
              </a>
              <a (click)="onOpenModal('delete', experiencia)" class="btn btn-secondary tooltips" data-placement="top"
                data-toggle="tooltip" data-original-title="Delete"><i class="fa fa-times"></i>
              </a>
            </div>
            <h2 id="nombre"><b>&nbsp;&nbsp;&nbsp;{{experiencia.tituloExp}}</b></h2>
          </div>
          <div class="col-md-4 col-sm-3 col-xs-1"></div>
        </div>
      </div>
  
      <!--fin repetición-->
  
    </div>
  
    <!-- Modal Agregar Proyecto-->
  
    <div class="modal fade" id="addExperienciaModal" tabindex="-1" role="dialog" aria-labelledby="addExperienciaModalLabel"
      aria-hidden="true">
  
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="addExperienciaModalLabel">
              Agregar Proyecto
            </h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <form #addForm="ngForm" (ngSubmit)="onAddExperiencia(addForm)">
              <div class="form-group">
                <label for="tituloExp">Nombre</label>
                <input type="text" ngModel name="tituloExp" class="form-control" id="tituloExp" placeholder="Nombre"
                  required />
              </div>
              <div class="form-group">
                <label for="fechaExp">Fecha</label>
                <input type="text" ngModel name="fechaExp" class="form-control" id="fechaExp"
                  placeholder="Fecha" required />
              </div>
              <div class="form-group">
                <label for="imagenExp">Imagen descriptiva</label>
                <input type="text" ngModel name="imagenExp" class="form-control" id="imagenExp"
                  placeholder="URL de la imagen descriptiva" required />
              </div>
              <div class="modal-footer">
                <button type="button" id="add-experiencia-form" class="btn btn-secondary" data-dismiss="modal">
                  Cerrar
                </button>
                <button [disabled]="addForm.invalid" type="submit" class="btn btn-primary">
                  Guardar cambios
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  
    <!-- Edit modal -->
  
    <div class="modal fade" id="editExperienciaModal" tabindex="-1" role="dialog" aria-labelledby="editExperienciaModalLabel"
      aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="updateExperienciaModalLabel">
              Editar Experiencia {{ editExperiencia?.tituloExp }}
            </h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <form #editForm="ngForm">
              <div class="form-group">
                <label for="name">Nombre</label>
                <input type="text" ngModel="{{ editExperiencia?.tituloExp }}" name="tituloExp" class="form-control"
                  id="tituloExp" placeholder="Nombre de la experiencia..." />
              </div>
              <input type="text" ngModel="{{ editExperiencia?.idExp }}" name="idExp" class="form-control" id="idExp"
                placeholder="" />
              <div class="form-group">
                <label for="phone">Fecha</label>
                <input type="text" ngModel="{{ editExperiencia?.fechaExp }}" name="fechaExp" class="form-control"
                  id="fechaExp" placeholder="start date" />
              </div>
              <div class="form-group">
                <label for="imagenExp">URL Imagen descriptiva</label>
                <input type="text" ngModel="{{ editExperiencia?.imagenExp }}" name="imagenExp" class="form-control"
                  id="imagenExp" placeholder="Image URL" />
              </div>
              <div class="modal-footer">
                <button type="button" id="" class="btn btn-secondary" data-dismiss="modal">
                  Cerrar
                </button>
                <button (click)="onUpdateExperiencia(editForm.value)" data-dismiss="modal" class="btn btn-primary">
                  Guardar cambios
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  
    <!-- Delete modal -->
  
    <div data-bs-toggle="modal" data-bs-target="#deleteModellabel" class="modal fade" id="deleteExperienciaModal" tabindex="-1"
      role="dialog" aria-labelledby="deleteModelLabel" aria-hidden="true">
  
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="deleteModelLabel">Borrar Proyecto</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <p>Eliminar Proyecto: {{deleteExperiencia?.tituloExp}}?</p>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">
                No
              </button>
              <button (click)="onDeleteExperiencia(deleteExperiencia!.idExp)" class="btn btn-danger" data-dismiss="modal">
                Si
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  
    <!-- Notificación "No hay experiencia" -->
  
    <div *ngIf="experiencia?.length == 0" class="col-lg-12 col-md-12 col-xl-12">
      <div class="alert alert-info" role="alert" style="margin-right: 3%;">
        <h4 class="alert-heading">No se encontraron items.</h4>
      </div>
    </div>
  </div>
  <h1>&nbsp;</h1>